*** Settings ***
Force Tags        Collaboration
Resource          ../../../resources/GLOBAL_LIBRARIES.robot
Resource          ../../../resources/variables/GLOBAL_VARIABLES.robot
Resource          ../../../resources/variables/User_credentials.robot
Resource          ../../../resources/keywords/Login_actions.robot
Resource          ../../../resources/keywords/User_actions.robot
Resource          ../../../resources/keywords/SUITE_SET_UP_ACTIONS.robot

*** Test Cases ***
Lead marks finances as complete then the collaborator is able to edit them
    [Tags]    Pending
    [Setup]    Log in as user    &{lead_applicant_credentials}
    Given user navigates to the finances of the collaboration application
    And the user enters the funding level
    When the user clicks the button/link    jQuery=.button:contains("Mark all as complete")
    And the user should see the text in the page    Project details
    Then Collaborator should be able to edit finances again

*** Keywords ***
user navigates to the finances of the collaboration application
    Given the user navigates to the page    ${DASHBOARD_URL}
    And the user clicks the button/link    link=Invite robot test application
    And the user clicks the button/link    link=Your finances

Collaborator should be able to edit finances again
    close browser
    Guest user log-in     worth.email.test+inviteorg2@gmail.com    Passw0rd123
    And user navigates to the finances of the collaboration application
    Element should be visible    css=#cost-financegrantclaim[readonly]
    the user clicks the button/link    jQuery=button:contains("Edit")
    Element Should Not Be Visible    css=#cost-financegrantclaim[readonly]

the user enters the funding level
    Select Radio Button    financePosition-organisationSize    MEDIUM
    When the user enters text to a text field    id=cost-financegrantclaim    20
    focus    jQuery=.button:contains("Mark all as complete")
