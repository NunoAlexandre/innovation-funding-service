*** Settings ***
Documentation     INFUND-39 As an applicant and I am on the application overview, I can select a section of the application, so I can see the status of each subsection in this section
Suite Setup       Login as User    &{lead_applicant_credentials}
Suite Teardown    TestTeardown User closes the browser
Resource          ../../resources/GLOBAL_LIBRARIES.robot
Resource          ../../resources/variables/GLOBAL_VARIABLES.robot
Resource          ../../resources/variables/User_credentials.robot
Resource          ../../resources/keywords/Login_actions.robot
Resource          ../../resources/keywords/Applicant_actions.robot

*** Test Cases ***
Verify the questions status for the "Application details" section
    [Documentation]    INFUND-39
    Given Applicant goes to the Application form
    When the Applicant edits question 11
    and the applicant assigns question 11 to Jessica Doe    Jessica Doe
    Then the "last update" date should be correct for the question 11
    and the "assign to" should be correct for the question 11

Verify the question status for the "Scope" section
    [Documentation]    INFUND-39
    Given Applicant goes to the Scope section
    When the Applicant edits question 13
    and the applicant assigns question 13 to Jessica Doe    Jessica Doe
    Then the "last update" date should be correct for the question 13
    and the "assign to" should be correct for the question 13

Verify the question status for the "Your business proposition" section
    [Documentation]    INFUND-39
    Given Applicant goes to the Your business proposition section
    When the Applicant edits question 1
    and the applicant assigns question 1 to Jessica Doe    Jessica Doe
    Then the "last update" date should be correct for the question 1
    and the "assign to" should be correct for the question 1

Verify the question status for the "Your approach to the project" section
    [Documentation]    INFUND-39
    Given Applicant goes to the "Your approach..." section
    When the Applicant edits question 5
    and the applicant assigns question 5 to Jessica Doe    Jessica Doe
    Then the "last update" date should be correct for the question 5
    and the "assign to" should be correct for the question 5

Verify the question status for the "Funding" section
    [Documentation]    INFUND-39
    Given Applicant goes to the "Funding" section
    When the Applicant edits question 15
    and the applicant assigns question 15 to Jessica Doe    Jessica Doe
    Then the "last update" date should be correct for the question 15
    and the "assign to" should be correct for the question 15

*** Keywords ***
the Applicant edits question 11
    Clear Element Text    css=#form-input-11 .editor
    Input Text    css=#form-input-11 .editor    Check last updated date@#$
    Focus    css=.app-submit-btn
    Sleep    2s

the applicant assigns question 11 to Jessica Doe
    [Arguments]    ${assignee_name}
    Click Element    css=#form-input-11 .assign-button button
    Click Element    xpath=//*[@id="0"]//button[contains(text(),"${assignee_name}")]

the "last update" date should be correct for the question 11
    Go To    ${APPLICATION_OVERVIEW_URL}
    Click Button    css=#section-1 > button
    Page Should Contain Element    css=#form-input-11 > div > div.column-two-thirds > p > small
    Element Should Contain    css=#form-input-11 > div > div.column-two-thirds > p > small    Last updated: Today by you

the "assign to" should be correct for the question 11
    Page Should Contain Element    css=#form-input-11 > div > div.column-third > div
    Element Should Contain    css=#form-input-11 > div > div.column-third > div    Jessica Doe

the Applicant edits question 13
    Clear Element Text    css=#form-input-13 .editor
    Input Text    css=#form-input-13 .editor    test text 123

the applicant assigns question 13 to Jessica Doe
    [Arguments]    ${assignee_name}
    Click Element    css=#form-input-13 .assign-button button
    Click Element    xpath=//*[@id="0"]//button[contains(text(),"${assignee_name}")]

the "last update" date should be correct for the question 13
    Go To    ${APPLICATION_OVERVIEW_URL}
    click button    css=#section-2 > button
    Page Should Contain Element    css=#form-input-13 > div > div.column-two-thirds > p > small
    Element Should Contain    css=#form-input-13 > div > div.column-two-thirds > p > small    Last updated: Today by you

the "assign to" should be correct for the question 13
    Page Should Contain Element    css=#form-input-13 > div > div.column-third > div
    Element Should Contain    css=#form-input-13 > div > div.column-third > div    Jessica Doe

the Applicant edits question 1
    Clear Element Text    css=#form-input-1 .editor
    Input Text    css=#form-input-1 .editor    Check last updated date@#$
    Focus    css=.app-submit-btn
    Sleep    2s

the applicant assigns question 1 to Jessica Doe
    [Arguments]    ${assignee_name}
    Click Element    css=#form-input-1 .assign-button button
    Click Element    xpath=//*[@id="0"]//button[contains(text(),"${assignee_name}")]

the "last update" date should be correct for the question 1
    Go To    ${APPLICATION_OVERVIEW_URL}
    Click Button    css=#section-3 > button
    Page Should Contain Element    css=#form-input-1 > div > div.column-two-thirds > p > small
    Element Should Contain    css=#form-input-1 > div > div.column-two-thirds > p > small    Last updated: Today by you

the "assign to" should be correct for the question 1
    Page Should Contain Element    css=#form-input-1 > div > div.column-third > div
    Element Should Contain    css=#form-input-1 > div > div.column-third > div    Jessica Doe

the Applicant edits question 5
    Clear Element Text    css=#form-input-5 .editor
    Input Text    css=#form-input-5 .editor    Check last updated date@#$
    Focus    css=.app-submit-btn
    Sleep    2s

the applicant assigns question 5 to Jessica Doe
    [Arguments]    ${assignee_name}
    Click Element    css=#form-input-5 .assign-button button
    Click Element    xpath=//*[@id="0"]//button[contains(text(),"${assignee_name}")]

the "last update" date should be correct for the question 5
    Go To    ${APPLICATION_OVERVIEW_URL}
    Click Button    css=#section-4 > button
    Page Should Contain Element    css=#form-input-5 > div > div.column-two-thirds > p > small
    Element Should Contain    css=#form-input-5 > div > div.column-two-thirds > p > small    Last updated: Today by you

the "assign to" should be correct for the question 5
    Page Should Contain Element    css=#form-input-5 > div > div.column-third > div
    Element Should Contain    css=#form-input-5 > div > div.column-third > div    Jessica Doe

the Applicant edits question 15
    Clear Element Text    css=#form-input-15 .editor
    Input Text    css=#form-input-15 .editor    Check last updated date@#$
    Focus    css=.app-submit-btn
    Sleep    2s

the applicant assigns question 15 to Jessica Doe
    [Arguments]    ${assignee_name}
    Click Element    css=#form-input-15 .assign-button button
    Click Element    xpath=//*[@id="0"]//button[contains(text(),"${assignee_name}")]

the "last update" date should be correct for the question 15
    Go To    ${APPLICATION_OVERVIEW_URL}
    Click Button    css=#section-5 > button
    Page Should Contain Element    css=#form-input-15 > div > div.column-two-thirds > p > small
    Element Should Contain    css=#form-input-15 > div > div.column-two-thirds > p > small    Last updated: Today by you

the "assign to" should be correct for the question 15
    Page Should Contain Element    css=#form-input-15 > div > div.column-third > div
    Element Should Contain    css=#form-input-15 > div > div.column-third > div    Jessica Doe
