FROM davidcaste/alpine-tomcat:jre8tomcat8
MAINTAINER David Soff <dsoff@worth.systems>

COPY setup-files/scripts/docker/jrebel.jar /jrebel.jar

ENV CATALINA_OPTS="-showversion -javaagent:/jrebel.jar -Drebel.remoting_plugin=true"

EXPOSE 8080

ENTRYPOINT sh /opt/tomcat/bin/catalina.sh run

COPY setup-files/scripts/docker/server.xml /opt/tomcat/conf/server.xml

COPY ifs-data-service/build/war/* /opt/tomcat/webapps