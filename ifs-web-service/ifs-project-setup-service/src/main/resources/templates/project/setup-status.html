<!DOCTYPE html>
<html class="no-js" lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <div th:include="fragments/layout :: head" th:with="pageTitle='Project setup status'" th:remove="tag" />
</head>
<body th:with="context='project'" class="project-overview">
<div th:include="fragments/layout :: body-start" th:remove="tag" />
<div th:include="fragments/layout :: global-header" th:remove="tag" />

<main id="content">
    <div th:include="fragments/layout :: main-content-start" th:remove="tag" />
    <div th:include="fragments/layout :: header-sub" th:with="linkTitle='Dashboard',linkClass='link-back',linkUrl=${url}"  th:remove="tag"></div>

    <div class="page-title">
        <div th:include="fragments/elements :: project-title (projectId=${model.applicationId}, projectName=${model.projectName})" th:remove="tag" />
        <h1 class="heading-xlarge">Project setup status</h1>
    </div>
    <p class="form-hint">You need to complete the following steps before this project can begin. All partners have individual steps to complete.</p>
    <strong><a th:href="@{/project/{id}/team-status(id=${model.projectId})}">What's the status of each of my partners?</a></strong>

    <ul class="ifs-progress-list extra-margin">

      <li class="complete">
        <div class="progress-status" />
        <div class="progress-info">
          <h2 class="heading-medium">Successful application</h2>
          <p>The application <strong th:text="${model.projectName}">Machine learning in robots</strong> has been successful within the <strong th:text="${model.competitionName}">Technology inspired</strong> competition</p>
          <p class="linkbar">
            <a th:href="${'/application/' + model.applicationId + '/summary'}" class="buttonlink">View application and feedback</a>
            <a th:href="${'/info/terms-and-conditions'}" class="buttonlink">View terms and conditions of grant offer</a>
          </p>
        </div>
      </li>
      <!--/* ========================= Project Details ========================= */-->
      <li th:classappend="${model.projectDetailsStatus.getSectionStatus()}">
        <div class="progress-status" />
        <div class="progress-info">
          <h2 class="heading-medium">
            <a th:if="${model.projectDetailsSection.accessible}" th:href="@{/project/{id}/details(id=${model.projectId})}">Project details</a>
            <th:block th:unless="${model.projectDetailsSection.accessible}">Project details</th:block>
          </h2>
          <p>Confirm the contact details, proposed start date and location of the project.</p>
        </div>
      </li>
      <!--/* ========================= Monitoring Officer ========================= */-->
      <li th:classappend="${model.monitoringOfficerStatus.getSectionStatus()}">
        <div class="progress-status" />
        <div class="progress-info">

          <h2 class="heading-medium">
            <a th:if="${model.monitoringOfficerSection.accessible}" th:href="@{/project/{id}/monitoring-officer(id=${model.projectId})}">Monitoring Officer</a>
            <th:block th:unless="${model.monitoringOfficerSection.accessible}">Monitoring Officer</th:block>
          </h2>
          <p th:if="${model.monitoringOfficerAssigned}">
            Your Monitoring Officer for this project is  <th:block th:text="${model.monitoringOfficerName}" />.
          </p>
          <p th:unless="${model.monitoringOfficerAssigned}">
            We will assign the project a Monitoring Officer.
          </p>
        </div>
      </li>
      <!--/* ========================= Bank Details ========================= */-->
      <li th:if="${model.bankDetailsSection.notAccessible}">
        <div class="progress-status" />
        <div class="progress-info">
          <h2 class="heading-medium">Bank details</h2>
          <p>We need bank details for each consortium member so that we can pay the grant.</p>
        </div>
      </li>

      <li th:if="${model.bankDetailsSection.accessibleOrNotRequired}"
          th:classappend="${model.bankDetailsStatus.getSectionStatus()}">
        <div class="progress-status" />
        <div class="progress-info">
          <h2 class="heading-medium">
            <a th:if="${model.bankDetailsSection.accessible}" th:href="@{/project/{id}/bank-details(id=${model.projectId})}">Bank details</a>
            <th:block th:if="${model.bankDetailsSection.notRequired}">Bank details (not required)</th:block>
          </h2>
          <p>We need bank details for each consortium member so that we can pay the grant.</p>
        </div>
      </li>
      <!--/* ========================= Finance Check ========================= */-->

      <li th:classappend="${model.financeChecksStatus.getSectionStatus()}">
        <div class="progress-status" />
        <div class="progress-info">
          <h2 class="heading-medium">
            <th:block th:unless="${model.financeChecksSection.notRequired}">Finance checks</th:block>
            <th:block th:if="${model.financeChecksSection.notRequired}">Finance checks (not required)</th:block>
          </h2>
          <p>We will review all project costs.</p>
        </div>
      </li>

      <!--/* ========================= Spend Profile ========================= */-->

      <li th:classappend="${model.spendProfileStatus.getSectionStatus()}">
        <div class="progress-status" />
        <div class="progress-info">

          <h2 class="heading-medium">
            <a th:if="${model.spendProfileSection.accessible}"
               th:href="@{/project/{id}/partner-organisation/{organisationId}/spend-profile(id=${model.projectId}, organisationId=${model.getOrganisationId()})}">Spend profile</a>
            <th:block th:if="${model.spendProfileSection.notAccessible}">Spend profile</th:block>
          </h2>

          <p>Once we have approved your financial information, we will produce a spend profile.</p>
        </div>
      </li>

      <!--/* ========================= Other documents ========================= */-->

      <li th:classappend="${model.otherDocumentsStatus.getSectionStatus()}">
        <div class="progress-status" />
        <div class="progress-info">
          <h2 class="heading-medium">
            <a th:if="${model.otherDocumentsSection.accessible}" th:href="@{/project/{id}/partner/documents(id=${model.projectId})}">Other documents</a>
            <th:block th:if="${model.otherDocumentsSection.notAccessible}">Other documents</th:block>
          </h2>
          <p th:if="${model.leadPartner}">As lead partner in the consortium you will need to upload the following:</p>
          <p th:if="${model.nonLeadPartner}">The lead partner of the consortium will need to upload the following:</p>
          <ul class="list list-bullet">
            <li>a collaboration agreement</li>
            <li>exploitation plan</li>
          </ul>
        </div>
      </li>
      <!--/* ========================= GOL ========================= */-->

      <!--TODO extra case to be outlined before GOL has been sent by internal user-->
      <li th:classappend="${model.grantOfferLetterStatus.getSectionStatus()}">
        <div class="progress-status" />
        <div class="progress-info">
          <h2 class="heading-medium">
            <a th:if="${model.grantOfferLetterSection.accessible}" th:href="@{/project/{id}/offer(id=${model.projectId})}">Grant offer letter</a>
            <th:block th:if="${model.grantOfferLetterSection.notAccessible}">Grant offer letter</th:block>
          </h2>
          <p>Once all tasks are complete we will send a grant offer letter to the lead partner. When the lead partner has returned the letter to us, you can begin the project.</p>
        </div>
      </li>

    </ul>

    <hr />


    <div th:include="fragments/layout :: main-content-end" th:remove="tag" />
</main>

<div th:include="fragments/layout :: footer" th:remove="tag" />
<div th:include="fragments/layout :: body-end" th:remove="tag" />

</body>
</html>
