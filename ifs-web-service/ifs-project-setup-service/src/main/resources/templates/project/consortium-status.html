<!DOCTYPE html>
<html class="no-js" lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <div th:include="fragments/layout :: head" th:with="pageTitle='Project team status'" th:remove="tag" />
</head>
<body >

<div th:include="fragments/layout :: body-start" th:remove="tag" />
<div th:include="fragments/layout :: global-header" th:remove="tag" />


<main id="content">
    <div th:include="fragments/layout :: main-content-start" th:remove="tag" />
    <div th:include="fragments/layout :: header-sub" th:with="linkTitle='Project setup status',linkClass='link-back',linkUrl=@{/project/{id}}"  th:remove="tag"></div>

    <p>Additional information is needed before your project can begin. This table will help you to keep track of what tasks have been completed and what is outstanding.</p>

    <div class="table-overflow">
        <table id="table-project-status">
            <thead>
            <tr>
                <th scope="col" rowspan="2">Partner</th>
                <th scope="col" colspan="8" class="aligncentre">Project setup stage</th>
            </tr>
            <tr>
                <th class="status" scope="col">Project details</th>
                <th class="status" scope="col">Monitoring Officer</th>
                <th class="status" scope="col">Bank details</th>
                <th class="status" scope="col">Finance checks</th>
                <th class="status" scope="col">Spend profile</th>
                <th class="status" scope="col">Other docs</th>
                <th class="status" scope="col">Grant offer letter</th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td th:text="${model.leadPartner.name}">Partner organisation name</td>
            </tr>
           <!-- <tr th:include=":: consortium-partner-status-row(${model.leadPartner})" />
            <th:block th:each="partner : ${model.otherPartners}">
                <tr th:include=":: consortium-partner-status-row(${partner})"/>
            </th:block>-->
            </tbody>
        </table>
    </div>

    <div th:include="fragments/layout :: main-content-end" th:remove="tag" />
</main>
<div th:include="fragments/layout :: footer" th:remove="tag" />
<div th:include="fragments/layout :: body-end" th:remove="tag" />
</body>


<div th:fragment="consortium-partner-status-row(partner)">
    <td th:text="${partner.name}">Partner organisation name</td>
    <div th:include=":: consortium-partner-status-indicator(partner.projectDetailsStatus)" th:remove="tag" />
    <div th:include=":: consortium-partner-status-indicator(partner.monitoringOfficerStatus)" th:remove="tag" />
    <div th:include=":: consortium-partner-status-indicator(partner.bankDetailsStatus)" th:remove="tag" />
    <div th:include=":: consortium-partner-status-indicator(partner.financeChecksStatus)" th:remove="tag" />
    <div th:include=":: consortium-partner-status-indicator(partner.spendProfileStatus)" th:remove="tag" />
    <div th:include=":: consortium-partner-status-indicator(partner.otherDocumentsStatus)" th:remove="tag" />
    <div th:include=":: consortium-partner-status-indicator(partner.grantOfferLetterStatus)" th:remove="tag" />
</div>

<div th:fragment="consortium-partner-status-indicator(status)">
    <th:block th:switch="${status}">
        <td th:case="'COMPLETE'" class="status ok" title="OK"><span class="visuallyhidden">OK</span></td>
        <td th:case="'ACTION_REQUIRED'" class="status action" title="Assigned to me"><span class="visuallyhidden">Assigned to me</span></td>
        <td th:case="'NOT_STARTED'" class="status na">&nbsp;</td>
        <td th:case="'NOT_REQUIRED'" class="status">-</td>
        <td th:case="'PENDING'" class="status waiting" title="Awaiting review from Innovate UK"><span class="visuallyhidden">Awaiting review from Innovate UK</span></td>
        <td th:case="*" th:text="${status}">null</td>
    </th:block>
</div>

</html>
