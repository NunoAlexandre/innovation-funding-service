<!-- close button -->
<div th:fragment="close-button" xmlns:th="http://www.w3.org/1999/xhtml">
    <button class="js-close close" type="button" aria-label="Close Popup">X</button>
</div>

<!-- overlay -->

<div th:fragment="modal-overlay">
    <div class="modal-overlay js-close" aria-hidden="true"></div>
</div>


<!-- confirm submit modal -->

<div th:fragment="modal-confirm-submit (messageTitle, message, submitLink, submitText, cancelText)">
    <div class="modal-confirm-submit" role="dialog" aria-hidden="true">
        <div th:include="fragments/modals :: close-button" th:remove="tag"/>
        <h2 th:text="${messageTitle}" class="heading-medium no-margin"></h2>
        <p th:text="${message}"></p>
        <div>
            <a class="button large" th:href="${submitLink}" th:text="${submitText}"></a>
            <button class="js-close button buttonlink large" type="button" th:text="${cancelText}"></button>
        </div>
    </div>
</div>

<!-- confirm submit application modal -->

<div th:fragment="modal-confirm-submit-application (messageTitle, message, submitLink, submitText, cancelText)">
    <form method="post" th:action="${submitLink}">
        <div class="modal-confirm-submit-application" role="dialog" aria-hidden="true">
            <div th:include="fragments/modals :: close-button" th:remove="tag"/>
            <h2 th:text="${messageTitle}" class="heading-medium no-margin"></h2>
            <p th:text="${message}"></p>
            <div>
                <input type="submit" tabindex="0" class="button large" th:value="${submitText}"/>
                <button type="button" tabindex="1" class="js-close button buttonlink large"
                        th:text="${cancelText}"></button>
            </div>
        </div>
    </form>
</div>

<!-- confirm submit modal -->

<div th:fragment="modal-confirm-submit-post (messageTitle, message, submitName, submitText, cancelText)">
    <div class="modal-confirm-submit" role="dialog" aria-hidden="true">
        <div th:include="fragments/modals :: close-button" th:remove="tag"/>
        <h2 th:text="${messageTitle}" class="heading-medium no-margin"></h2>
        <p th:text="${message}"></p>
        <div>
            <button role="button" tabindex="0" class="button large" th:name="${submitName}" type="submit"
                    th:text="${submitText}"></button>
            <button class="js-close button buttonlink large" type="button" th:text="${cancelText}"></button>
        </div>
    </div>
</div>

<!-- public funding decision modal window -->
<div th:fragment="modal-publish-funding-decision">
    <div class="modal-publish-funding-decision" role="dialog" aria-hidden="true">
        <div th:include="fragments/modals :: close-button" th:remove="tag"/>

        <h2 class="heading-medium no-margin">Notify applicants</h2>
        <p>Are you sure you wish to inform applicants if they have been successful in gaining funding?</p>
        <p>This step cannot be undone.</p>
        <hr/>
        <div class="grid-row extra-margin">
            <div class="column-half">
                <button type="button" class="js-close buttonlink large">Cancel</button>
            </div>
            <div class="column-half alignright-button">
                <button class="button large" name="publish" value="publish" type="submit">Notify applicants</button>
            </div>
        </div>
    </div>
</div>

<!-- Publish assessor feedback modal window -->
<div th:fragment="modal-submit-assessor-feedback">
    <div class="modal-submit-assessor-feedback" role="dialog" aria-hidden="true">
        <div th:include="fragments/modals :: close-button" th:remove="tag"/>

        <h2 class="heading-medium no-margin">Publish assessor feedback</h2>
        <p>This will inform applicants that assessor feedback is available.</p>
        <p>This step cannot be undone.</p>
        <hr/>
        <div class="grid-row extra-margin">
            <form method="post" action="#" id="submit-assessor-feedback-form"
                  th:action="@{/competition/{competitionId}/assessorfeedbacksubmit(competitionId=${competitionSummary.getCompetitionId()})}">
                <div class="column-half">
                    <button type="button" class="js-close buttonlink large">Cancel</button>
                </div>
                <div class="column-half alignright-button">
                    <button class="button large" name="publish" value="publish" type="submit">Publish assessor feedback</button>
                </div>
            </form>
        </div>
    </div>
</div>


<!-- save monotiring officer -->
<div th:fragment="modal-assign-mo">
    <div class="modal-assign-mo" role="dialog" aria-hidden="true">
        <div th:include="fragments/modals :: close-button" th:remove="tag"/>
        <h2 class="heading-medium no-margin">Assign Monitoring Officer</h2>
        <p>This will notify the Project Manager and Monitoring Officer of this appointment. The Monitoring Officer will
            be visible to all members of the consortium.</p>
        <hr/>
        <div class="grid-row extra-margin">
            <div class="column-half">
                <button type="button" class="js-close buttonlink large">Cancel</button>
            </div>
            <div class="column-half alignright-button">
                <input type="hidden" id="stage" name="stage" value="1"/>
                <button th:formaction="@{/project/{projectId}/monitoring-officer/assign(projectId=${model.projectId})}"
                        class="button">Assign Monitoring Officer
                </button>
            </div>
        </div>
    </div>
</div>

<!-- save project details -->
<div th:fragment="modal-project-details">
    <div class="modal-project-details" role="dialog" aria-hidden="true">
        <div th:include="fragments/modals :: close-button" th:remove="tag"/>
        <h2 class="heading-medium no-margin">Submit project details</h2>
        <p>Are you sure that you wish to submit your project details to Innovate UK?</p>
        <hr/>
        <div class="grid-row">
            <div class="column-half">
                <button type="button" class="js-close button buttonlink large">Cancel</button>
            </div>
            <form class="column-half alignright-button"
                  th:action="@{${#ifsUtil.uriWithQueryString(#httpServletRequest)}+'/submit'}" method="post">
                <button class="button large" name="submit-app-details">Submit</button>
            </form>
        </div>
    </div>
</div>
<!-- save project details -->
<div th:fragment="modal-bank-details">
    <div class="modal-bank" role="dialog" aria-hidden="true">
        <div th:include="fragments/modals :: close-button" th:remove="tag"/>

        <h2 class="heading-medium no-margin">Submit Bank Details</h2>
        <p>Are you sure you wish to submit your bank details?</p>
        <p>After you submit, your bank details will be reviewed by Innovate UK. We may contact you to clarify any issues
            before we perform finance checks.</p>
        <hr/>
        <div class="grid-row">
            <div class="column-half">
                <button type="button" class="js-close button buttonlink large">Cancel</button>
            </div>
            <div class="column-half alignright-button" method="post">
                <button class="button large" name="submit-app-details">Submit</button>
            </div>
        </div>
    </div>
</div>

<!-- save finance checks -->
<div th:fragment="generate-spend-profile">
    <div class="generate-spend-profile" role="dialog" aria-hidden="true">
        <div th:include="fragments/modals :: close-button" th:remove="tag"/>

        <h2 class="heading-medium no-margin">Generate spend profile</h2>
        <p>This will generate a flat profile spend for all project partners. This assumes that finance checks have
            been completed for all partners and this section will be locked.</p>
        <p>Partners will be notified that they can now create their spend profile.</p>
        <hr/>
        <div class="grid-row">
            <div class="column-half">
                <button type="button" class="js-close button buttonlink large">Cancel</button>
            </div>
            <div class="column-half alignright-button" method="post">
                <button class="button large" name="submit-app-details">Generate spend profile</button>
            </div>
        </div>
    </div>

</div>

<!-- save partner documents -->
<div th:fragment="modal-partner-documents">
    <div class="modal-partner-documents" role="dialog" aria-hidden="true">
        <div th:include="fragments/modals :: close-button" th:remove="tag"/>
        <h2 class="heading-medium no-margin">Submit partner documents</h2>
        <p>Are you sure that you wish to submit your documents to Innovate UK?</p>
        <hr/>
        <div class="grid-row">
            <div class="column-half">
                <button type="button" class="js-close button buttonlink large">Cancel</button>
            </div>
            <form class="column-half alignright-button"
                  th:action="@{${#ifsUtil.uriWithQueryString(#httpServletRequest)}+'/submit'}" method="post">
                <button class="button large" name="submit-other-documents">Submit</button>
            </form>
        </div>
    </div>
</div>

<!-- change bank details as internal user -->
<div th:fragment="modal-partner-change-bank-details">
    <div class="modal-partner-change-bank-details" role="dialog" aria-hidden="true">
        <div th:include="fragments/modals :: close-button" th:remove="tag"/>
        <h2 class="heading-medium no-margin">Update bank account details</h2>
        <p>Please confirm that any updates match the information supplied by the finance contact. After this update has been completed, previously supplied details will be overwritten.</p>
        <hr/>
        <div class="alignright-button">
            <button type="button" class="js-close button buttonlink large">Cancel</button>
            <button class="button large" name="submit-change-bank-details">Update bank account details</button>
        </div>
    </div>
</div>
<div th:fragment="modal-partner-approve-bank-details">
    <div class="modal-partner-approve-bank-details" role="dialog" aria-hidden="true">
        <div th:include="fragments/modals :: close-button" th:remove="tag"/>
        <h2 class="heading-medium no-margin">Approve bank account</h2>
        <p>Approving the bank account will enable the finance checks to begin on the account</p>
        <p>This step should only be done after the bank account for the organisation has been checked and meets the requirements of Innovate UK</p>
        <hr/>
        <div class="alignright-button">
            <button type="button" class="js-close button buttonlink large">Cancel</button>
            <button class="button large" name="submit-approve-bank-details">Approve account</button>
        </div>
    </div>
</div>

<!-- Accept Documents On Review -->
<div th:fragment="modal-accept-docs">
    <div class="modal-accept-docs" role="dialog" aria-hidden="true">
        <div th:include="fragments/modals :: close-button" th:remove="tag"/>
        <h2 class="heading-medium no-margin">Accept documents</h2>
        <p>Once the documents are accepted, the project team can complete any remaining stages of the project set up
            process.</p>
        <hr/>
        <div class="grid-row">
            <div class="column-half">
                <button type="button" class="js-close button buttonlink large">Cancel</button>
            </div>
            <div class="column-half alignright">
              <button class="button large" name="approved" value="true">Accept Documents</button>
            </div>
        </div>
    </div>
</div>

<!-- Reject Documents On Review -->
<div th:fragment="modal-reject-docs">
    <div class="modal-reject-docs" role="dialog" aria-hidden="true">
        <div th:include="fragments/modals :: close-button" th:remove="tag"/>
        <h2 class="heading-medium no-margin">Reject documents</h2>
        <p>If these documents are rejected, the project manager will be informed along with the reason for rejection.
            They will then need to provide new versions of the documents before the project can begin.</p>
        <hr/>
        <div class="grid-row form-group">
            <div class="column-half">
                <button type="button" class="js-close button buttonlink large">Cancel</button>
            </div>
            <div class="column-half alignright-button">
                <button class="button large button-warning" name="approved" value="false">Reject Documents</button>
            </div>
        </div>
    </div>
</div>

<!-- Confirmation on finance checks -->
<th:block th:fragment="approve-eligibility-modal">
  <div class="approve-eligibility-modal" role="dialog" aria-hidden="true">
    <div th:include="fragments/modals :: close-button" th:remove="tag"/>
    <h2 class="heading-medium no-margin">Approve eligible costs</h2>
    <p>This partner will now be marked as eligible for this project.</p>
    <hr />
    <div class="column-half">
        <button type="button" class="js-close buttonlink large">Cancel</button>
    </div>
    <div class="column-half alignright-button">
      <button class="button" name="approve">Approve eligible costs</button>
    </div>
  </div>
</th:block>

<!-- Confirmation on removing collaborators -->
<div th:fragment="modal-submit-remove-collaborator" th:if="${userIsLead}">
    <div class="modal-submit-remove-collaborator" role="dialog" aria-hidden="true">
        <div th:include="fragments/modals :: close-button" th:remove="tag"/>

        <h2 class="heading-medium no-margin">Removing collaborator</h2>
        <p>Are you sure you wish to remove this collaborator form this application.</p>
        <p>This step cannot be undone.</p>
        <hr/>
        <div class="grid-row extra-margin">
            <form method="post"
                  th:action="@{/application/{appId}/contributors/remove(appId = ${currentApplication.getId()})}"
                  th:object="${removeContributorForm}" id="submit-remove-collaborator-form">
                <input type="hidden" value="" name="applicationInviteId"/>
                <div class="column-half">
                    <button type="button" class="js-close buttonlink large">Cancel</button>
                </div>
                <div class="column-half alignright-button">
                    <button class="button large" name="publish" value="publish" type="submit">Remove</button>
                </div>
            </form>
        </div>
    </div>
</div>

<div th:fragment="modal-confirm-grant-offer-letter">
    <div class="modal-confirm-grant-offer-letter" role="dialog" aria-hidden="true">
        <div th:include="fragments/modals :: close-button" th:remove="tag"/>
        <h2 class="heading-medium no-margin">Confirm submission</h2>
        <p>After your submission of the signed Grant offer letter Innovate UK will review signed document</p>
        <hr/>
        <div class="alignright-button">
            <button type="button" class="js-close button buttonlink large">Cancel</button>
            <button class="button large" name="confirmSubmit">Confirm Submission</button>
        </div>
    </div>
</div>

<!-- Confirm submit of all spend profiles. -->
<div th:fragment="modal-confirm-spend-profile-totals (projectId)">
    <div class="modal-confirm-spend-profile-totals" role="dialog" aria-hidden="true">
        <div th:include="fragments/modals :: close-button" th:remove="tag"/>
        <h2 class="heading-medium no-margin">Submit project spend profile</h2>
        <p>The project spend profile will be submitted to both Innovate UK and the Monitoring Officer assigned to this project. This will be used for reference and the base for progress.</p>
        <div>
            <input type="submit" tabindex="0" class="button large" value="Submit"/>
            <button type="button" tabindex="1" class="js-close button buttonlink large">Cancel</button>
        </div>
    </div>
</div>

<!-- Confirmation on approving spend profiles -->
<th:block th:fragment="modal-accept-profile">
    <div class="modal-accept-profile" role="dialog" aria-hidden="true">
      <div th:include="fragments/modals :: close-button" th:remove="tag"/>
        <div>
            <h2 class="heading-medium no-margin">Approved by Innovation Lead</h2>
            <p>The project spend profile has been approved and accepted by the Innovation Lead, by confirming the project manager will be notified of this decision via email.</p>
            <hr />
            <form th:action="@{'/project/' + ${projectId} + '/spend-profile/approval/APPROVED'}" method="post">
                <div class="column-half">
                    <button type="button" class="js-close buttonlink large">Cancel</button>
                </div>
                <div class="column-half alignright-button">
                    <button class="button large" type="submit">Accept documents</button>
                </div>
            </form>
        </div>
    </div>
</th:block>

<th:block th:fragment="modal-reject-profile">
    <div class="modal-reject-profile" role="dialog" aria-hidden="true">
        <div th:include="fragments/modals :: close-button" th:remove="tag" />
        <h2 class="heading-medium no-margin">Reject spend profile</h2>
        <p>Rejecting will return access to this section to all project partners.</p>
        <p>Before taking this action please contact the project manager to explain why the the Spend Profile is being returned to them.</p>
        <form th:action="@{'/project/' + ${projectId} + '/spend-profile/approval/REJECTED'}" method="post">
          <hr />
          <div class="column-half">
              <button type="button" class="js-close buttonlink large">Cancel</button>
          </div>
          <div class="column-half alignright-button">
              <button class="button button-warning large" type="submit">Reject spend profile</button>
          </div>
        </form>
    </div>
</th:block>
