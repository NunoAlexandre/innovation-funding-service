<!DOCTYPE html>
<html class="no-js" lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <div th:include="fragments/layout :: head" th:with="pageTitle='Project Details'" th:remove="tag" />
</head>
<body class="project-detail">
<div th:include="fragments/layout :: body-start" th:remove="tag" />
<div th:include="fragments/layout :: global-header" th:remove="tag" />

<main id="content">
    <div th:include="fragments/layout :: main-content-start" th:remove="tag" />
    <div th:include="fragments/layout :: header-sub" th:with="linkTitle='Dashboard',linkClass='link-back',linkUrl=@{/applicant/dashboard}"  th:remove="tag"></div>

    <div class="hgroup no-margin-top" style="padding-top: 20px; margin-bottom: 30px">
        <p class="subtitle" th:text="${#numbers.formatInteger(model.project.id,8)} + ': ' + ${model.app.getApplicationDisplayName()} "/>
        <h1 class="heading-xlarge no-margin">Project details</h1>
    </div>

    <p class="form-hint">Please supply the following details for your project and the team. We need these to setup your project.</p>

    <table>
        <thead>
            <tr>
                <th scope="col" class="larger-cols">Question</th>
                <th scope="col" class="larger-cols">Answer</th>
                <th scope="col" class="smaller-col">Complete</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>
                    <a th:href="@{/project/{id}/details/start-date(id=${model.app.getId()})}">Start date</a>
                </td>
                <td id="start-date">
                    <span th:if="${model.project.targetStartDate == null}" th:remove="tag">-</span>
                    <span th:unless="${model.project.targetStartDate == null}" th:text="${#temporals.format(model.project.targetStartDate, 'd MMM yyyy')}" th:remove="tag"></span>
                </td>
                <td>
                    <span th:if="${model.project.targetStartDate == null}" id="start-date-status" class="no">No</span>
                    <span th:unless="${model.project.targetStartDate == null}" id="start-date-status" class="yes">Yes</span>
                </td>
            </tr>
            <tr>
                <td>
                    <a th:href="@{/project/{id}/details/project-address(id=${model.app.getId()})}">Project address</a>
                </td>
                <td id="project-address">-</td>
                <td>
                    <span th:if="${model.project.address == null}" id="project-address-status" class="no">No</span>
                    <span th:unless="${model.project.address == null}" id="project-address-status" class="yes">Yes</span>
                </td>
            </tr>
            <tr>
                <td>
                    <a th:href="@{/project/{id}/details/project-manager(id=${model.app.getId()})}">Project manager</a>
                </td>
                <td id="project-manager">-</td>
                <td>
                    <span th:if="${model.project.projectManager == null}" id="project-manager-status" class="no">No</span>
                    <span th:unless="${model.project.projectManager == null}" id="project-manager-status" class="yes">Yes</span>
                </td>
            </tr>

        </tbody>
    </table>

    <h2 class="heading-medium">Finance contacts</h2>

    <p>Each partner must provide a finance contact who will be sent any queries from us around partner finances.</p>

    <table>
        <thead>
            <tr>
                <th scope="col" class="larger-cols">Partner</th>
                <th scope="col" class="larger-cols">Finance contact</th>
                <th scope="col" class="smaller-col">Complete</th>
            </tr>
        </thead>
        <tbody>
            <tr th:each="organisation: ${model.partnerOrganisations}">

                <td>
                    <a th:if="${organisation.id == model.currentOrganisation}" th:href="@{/project/{id}/details/finance-contact?organisation={orgId}(id=${model.app.getId()},orgId=${organisation.id})}" th:text="${organisation.name}">organisation name</a>
                    <span th:unless="${organisation.id == model.currentOrganisation}" th:text="${organisation.name}" th:remove="tag">organisation name</span>
                </td>
                <td>
                  <span th:unless="${model.getFinanceContactForPartnerOrganisation(organisation.id) == null}" th:remove="tag">
                        <span th:text="${model.getFinanceContactForPartnerOrganisation(organisation.id)}" />
                  </span>
                  <span th:if="${model.getFinanceContactForPartnerOrganisation(organisation.id) == null}" th:remove="tag">
                        <span>-</span>
                  </span>
                </td>
                <td>
                  <span th:unless="${model.getFinanceContactForPartnerOrganisation(organisation.id) == null}" id="finance-contact-status" class="yes">Yes</span>
                  <span th:if="${model.getFinanceContactForPartnerOrganisation(organisation.id) == null}" id="finance-contact-status" class="no">No</span>
                </td>
            </tr>
        </tbody>
    </table>

    <div class="extra-margin">

        <a href="#" class="button button-large" data-js-modal="modal-project-details" role="button" tabindex="0">Submit project details</a>


        <div class="modal-project-details" role="dialog" aria-hidden="true" style="margin-top: -174px;">
            <button class="js-close close" aria-label="Close Popup">X</button>
            <div>

                <h2 class="heading-medium no-margin">Submit project details</h2>

                <p>Are you sure that you wish to submit your project details to Innovate UK</p>

                <hr/>

                <div class="alignright-button">
                    <a href="#" aria-label="Close Popup" class="button-link js-close">Cancel</a>
                    <a href="/prototypes/1588-project-status?stage=level2" class="button">Submit</a>
                </div>

            </div>
        </div>

    </div>

    <div th:include="fragments/layout :: main-content-end" th:remove="tag" />
</main>

<div th:include="fragments/layout :: footer" th:remove="tag" />
<div th:include="fragments/layout :: body-end" th:remove="tag" />

</body>
</html>
