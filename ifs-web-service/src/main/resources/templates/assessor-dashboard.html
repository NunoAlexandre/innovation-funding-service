<!DOCTYPE html>
<html class="no-js" lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <div th:include="fragments/layout :: head" th:with="pageTitle='Assessor Dashboard'" th:remove="tag" />
</head>
<body class="app-dashboard">

<div th:include="fragments/layout :: body-start" th:remove="tag" />
<div th:include="fragments/layout :: global-header" th:remove="tag" />

<main id="content">
    <div th:include="fragments/layout :: main-content-start" th:remove="tag" />


    <div class="message-alert">

        <h1 class="heading-medium">
            New request for assessment
        </h1>

        <p>
          You have been requested to act as an assessor on a new competition: <strong>Solving urban problems with data</strong> 
        </p>

        <ul class="message-summary-list">
          <li><strong><a href="#">Respond to assessment request</a></strong></li>
        </ul>

    </div>

    <div class="my-applications">

        <div class="in-progress">
            
            <header class="page-header group no-pad">
                <h3 class="heading-large">Competitions for Assessment (<span th:text="${competitionsForAssessment.size()}"/>)</h3>
            </header>
            
            <ul class="boxed-list">
                <li th:each="competition : ${competitionsForAssessment}">
                    <div class="grid-row" >
                        <div class="column-half">
                            <h4 class="heading-medium">

                                <a th:href="@{/assessor/competitions/{id}/applications(id=${competition.getId()})}" th:text="${competition.name}">link for competition</a>
                            </h4>
                            <p class="form-hint">Assessment progress:</p>
                            <p class="greentext"><strong><span th:text="${submittedAssessments[competition.id]}"/>/<span th:text="${totalAssignedAssessments[competition.id]}"/> Assessed</strong></p>
                        </div>
                        <div class="column-half">
                            <div th:include="fragments/elements :: competition-deadline" th:with="endDate=${competition.getAssessmentEndDate()}" th:remove="tag" />
                            <div th:include="fragments/elements :: pie" th:with="daysPercentage=${competition.getAssessmentDaysLeftPercentage()}, daysLeft=${competition.getAssessmentDaysLeft()}" th:remove="tag" />
                        </div>
                    </div>

                    <!--
                    WIll have to also show up the upcomming competitions

                    <div class="grid-row">-->
                        <!--<div class="column-two-thirds">-->
                            <!--<h4 class="heading-medium">-->
                                <!--<a th:href="@{/competition/{id}/section/1(id=${competition.getId()})}" th:text="${competition.name}">placeholder</a>-->
                            <!--</h4>-->
                            <!--<p class="form-hint">Competition number: <span th:text="${competition.id}"></span></p>-->
                            <!--&lt;!&ndash;<strong class="greentext">Application submitted</strong>&ndash;&gt;-->
                        <!--</div>-->
                        <!--<div class="column-one-third">-->
                            <!--Awaiting assessment-->
                        <!--</div>-->
                    <!--</div>-->
                </li>
            </ul>
        </div>
    </div>

    <div th:include="fragments/layout :: main-content-end" th:remove="tag" />
</main>

<div th:include="fragments/layout :: footer" th:remove="tag" />
<div th:include="fragments/layout :: body-end" th:remove="tag" />
</body>
</html>