<!DOCTYPE html>
<html class="no-js" lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <div th:include="fragments/layout :: head" th:with="pageTitle='Sign In'" th:remove="tag"></div>
</head>
<body class="sign-in">

<div th:include="fragments/layout :: body-start" th:remove="tag"></div>
<div th:include="fragments/layout :: global-header" th:remove="tag"></div>

<main id="content">
    <div th:include="fragments/layout :: main-content-start" th:remove="tag"></div>


    <form th:action="${loginForm.getActionUrl()}" th:object="${loginForm}" method="POST">
        <section th:if="${#fields.hasErrors('*')}" class="error-summary" role="group"
                 aria-labelledby="error-summary-heading" tabindex="-1">
            <h1 class="heading-medium error-summary-heading" id="error-summary-heading">
                Your login was unsuccessful because of the following issue(s)
            </h1>

                <ul class="error-summary-list">
                    <li th:each="err, index : ${#fields.errors('*')}" th:text="${err}"  th:unless="${#strings.startsWith(err,'Your username/password')}" />
                    <li th:each="err, index : ${#fields.errors('*')}" th:if="${(#strings.startsWith(err,'Your username/password')) and index.index == 0}">Your username/password combination doesn't seem to work</li>
                </ul>
        </section>


        <div class="grid-row">
            <section class="column-half">
                <h1 class="heading-large">Sign in</h1>

                <fieldset>
                    <legend class="visuallyhidden">Sign in</legend>
                    <div th:class="${#fields.hasErrors('email')}? 'form-group error':'form-group'">
                        <label class="form-label" for="id_email">
                            <span>E-mail address</span>
                            <span th:if="${#fields.hasErrors('email')}" th:remove="tag">
                                  <span class="error-message"  th:each="err : ${#fields.errors('email')}" th:text="${err}" />
                            </span>
                        </label>
                        <input class="form-control form-control-3-4" th:classappend="${#fields.hasErrors('email') ? 'field-error': ''}" type="email" th:field="*{email}" id="id_email" required="required" data-required-errormessage="Please enter your e-mail address" data-email-errormessage="Please enter a valid e-mail address" />
                    </div>
                    <!-- .form-group -->

                    <div th:class="${#fields.hasErrors('password')}? 'form-group error':'form-group'">
                        <label class="form-label" for="id_password">
                          <span>Password</span>
                          <span th:if="${#fields.hasErrors('password')}" th:remove="tag">
                                <span class="error-message"  th:each="err : ${#fields.errors('password')}" th:text="${err}" />
                          </span>
                        </label>
                        <input class="form-control form-control-3-4" th:classappend="${#fields.hasErrors('password') ? 'field-error': ''}" type="password" th:field="*{password}" required="required" data-required-errormessage="Please enter your password"  id="id_password"/>

                    </div>
                    <!-- .form-group -->
                </fieldset>
                <input class="button" value="Sign in" type="submit"/>

            </section>
            <section class="column-half">
                <h1 class="heading-large">New to this service?</h1>

                <p>If you havenâ€™t used this service before you must <a href="/create-account">create an account</a>,
                    even if you already have an existing account with "Innovate UK".</p>

                <p>Creating an account allows you to:</p>
                <ul class="list-bullet">
                    <li>Apply for a competition</li>
                    <li>Track your competition applications</li>
                    <li>View application feedback</li>
                    <li>Setup successful project</li>
                </ul>
            </section>

        </div>
    </form>


    <div th:include="fragments/layout :: main-content-end" th:remove="tag"></div>
</main>

<div th:include="fragments/layout :: footer" th:remove="tag"></div>
<div th:include="fragments/layout :: body-end" th:remove="tag"></div>
</body>
</html>
