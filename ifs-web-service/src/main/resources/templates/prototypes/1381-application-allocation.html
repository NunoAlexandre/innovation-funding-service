<!DOCTYPE html>
<html class="no-js" lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <div th:include="fragments/layout :: head" th:with="pageTitle='Application Dashboard'" th:remove="tag" />
    <link href="/css/prototype.css" media="screen" rel="stylesheet" type="text/css" />
	


	<div th:if="${param.filterInnovationArea != null}" th:remove="tag">
		<style>
			#assessor-list tbody tr{
				display: none;
			}
			.pagination{
				display: none;
			}
			#assessor-list tbody tr.filtered-result{
				display: table-row;
			}
		</style>
	</div>

</head>
<body class="comp-assessors">


<div th:include="prototypes/fragments/layout :: prototype-nav" th:remove="tag" />
<div th:include="fragments/layout :: body-start" th:remove="tag" />
<div th:include="fragments/layout :: global-header" th:remove="tag" />


<main id="content">
    <div th:include="fragments/layout :: main-content-start" th:remove="tag" />
    <div th:include="prototypes/fragments/applicant-view :: prototype-subheader(${'Competition overview'}, ${'/prototypes/860-comp-applications-dashboard'})" th:remove="tag" />

	<!-- HARDCODED PROTOTYPE HTML -->
	
	<div th:include="prototypes/fragments/comp-admin :: prototype-comp-admin-page-title(${'Innovate UK, Technology inspired, (4891061)'}, ${'Application allocation'})" th:remove="tag" />

	<section class="boxed">
        <div class="grid-row">
            <div class="column-half">
                <ul>
                	<li><span class="heading-medium">50</span> applications</li>
                	<li><span class="heading-medium">25</span> assessors available</li>
                </ul>
            </div>
            <div class="column-half">
                <ul>
                	<li><span class="heading-medium">22/12/15</span> assessment opened</li>
                	<li><span class="heading-medium">27/12/15</span> assessment close</li>
                </ul>
            </div>
        </div>
    </section>

	<!-- <p class="form-hint">Add assessors to the invite list by selecting '<strong>Add</strong>' from the list of <strong>current assessors</strong> in the section below</p> -->

	<h2 class="heading-large" id="current-assessors">Application list</h2>
	
	<div th:include="prototypes/fragments/comp-admin :: prototype-comp-search-filters" th:with="filterTitle=${'applications'}" th:remove="tag" />
	
	<div th:include="prototypes/fragments/comp-admin :: prototype-application-list-table" th:remove="tag" />
	
	<div th:if="${param.filterStatus == null}" th:remove="tag">

		<ul class="pagination">
		    <li class="next">
		        <a href="#" rel="next" title="Navigate to next part">
		            <span class="pagination-label">Next</span>
		            <span class="pagination-part-title">2 of 4</span>
		        </a>
		    </li>
		</ul>

	</div>

	<!-- END OFHARDCODED PROTOTYPE HTML -->

    <div th:include="fragments/layout :: main-content-end" th:remove="tag" />
</main>

<div th:include="fragments/layout :: footer" th:remove="tag" />
<div th:include="fragments/layout :: body-end" th:remove="tag" />
<script src="/js/ifs_prototype/prototype.js" type="text/javascript"></script>

<script type="text/javascript">
	// <![CDATA[
	jQuery(document).ready(function(){
		function setButtonCounter(){
			jQuery('#assessor-count-display').html(counter);
			jQuery('.view-invite-list span').html('(<strong>'+counter+'</strong>)'); 
		}

		function setButtonState(){
			if (counter <= 0){
				jQuery('.view-invite-list').addClass('disabled');
				jQuery('.view-invite-list').on('click',function(e){
					e.preventDefault();
					//alert(counter);
				});
			}else{
				jQuery('.view-invite-list').removeClass('disabled');
				jQuery('.view-invite-list').on('click',function(e){
					return true;
					//alert(counter);
				});
			}
		}

		var counter = 0;
		var counterRow = 0; 

		jQuery('.add-another-row').on('click',function(e){ 
			counterRow ++;
			jQuery('#add-to-list span').html('(<strong>'+counterRow+'</strong>)'); 
			//alert(counterRow);
		});

		jQuery('body').on('click','.delete-row',function(){
			counter --;
			counterRow --;
			//setButtonCounter();
			jQuery('#add-to-list span').html('(<strong>'+counterRow+'</strong>)');
			//alert("TEST "+counterRow); 
		});

		jQuery('#add-to-list').on('click',function(e){ 
			e.preventDefault();
			counter = counter + counterRow;
			//alert(counter);
			setButtonState();
			setButtonCounter();
		});


		jQuery('.add-assessor').on('click',function(e){ 
			e.preventDefault();


			//alert('hello');
			
			if (jQuery(this).hasClass( 'added' )){
				
				jQuery(this).removeClass( 'added' );
				jQuery(this).text('Add');

				counter --;
			
			}else{
				
				jQuery(this).addClass( 'added' );
				jQuery(this).text('Remove');

				
				counter ++;

			}

			setButtonState();
			setButtonCounter();
			
			//jQuery(this).text('Remove');



		});
	});
	// ]]>
	</script>
</body>
</html>