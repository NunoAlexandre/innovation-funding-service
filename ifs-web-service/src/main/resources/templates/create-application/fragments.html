
<div th:fragment="company-address-details">
    <div id="manual-company-input" class="extra-margin">
        <fieldset>
            <legend class="visuallyhidden">Organisation details</legend>
            <div th:class="${#fields.hasErrors('*{addressForm.postcodeInput}') and form.addressForm.triedToSave} ? 'form-group error' : 'form-group'">
                <label class="form-label" for="postcode-check">
                    <span class="form-label-bold">Postcode</span>
                    <span class="error-message" th:if="${#fields.hasErrors('*{addressForm.postcodeInput}') and form.addressForm.triedToSave}" th:errors="*{addressForm.postcodeInput}"></span>
                </label>
                <input class="form-control" id="postcode-check" th:field="*{addressForm.postcodeInput}" type="text" />
                <button type="submit" id="postcode-lookup" class="button" name="search-address">Find UK address</button>
            </div>

            <div class="form-group" id="select-address-block" th:if="${form.addressForm.postcodeOptions != null and form.addressForm.postcodeOptions.size() != 0}">
                <label class="form-label" for="select-address">
                    <span class="form-label-bold">Select your address</span>
                </label>
                <select class="form-control" id="select-address" th:field="*{addressForm.selectedPostcodeIndex}">
                    <option th:value="${status.index}" th:each="address,status : ${form.addressForm.postcodeOptions}" th:text="${address.combinedString}"></option>
                </select>
                <button type="submit" class="button" name="select-address">Use selected address</button>
            </div>
            <button type="submit" class="buttonlink" name="manual-address">Enter address manually</button>
        </fieldset>
        <fieldset id="address-details" class="extra-margin" th:if="${form.addressForm.selectedPostcodeIndex != null or form.addressForm.manualAddress}">
            <legend class="visuallyhidden">Address details</legend>
            <div th:class="${#fields.hasErrors('*{addressForm.selectedPostcode.addressLine1}') and form.addressForm.triedToSave} ? 'form-group error' : 'form-group'">
                <label class="form-label" for="street">
                    <span class="form-label-bold">Street</span>
                </label>
                <input class="form-control" id="street" th:field="*{addressForm.selectedPostcode.addressLine1}" name="street" type="text" />
                <span class="error-message" th:if="${#fields.hasErrors('*{addressForm.selectedPostcode.addressLine1}') and form.addressForm.triedToSave}" th:errors="*{addressForm.selectedPostcode.addressLine1}"></span>
            </div>
            <div th:class="${#fields.hasErrors('*{addressForm.selectedPostcode.addressLine2}') and form.addressForm.triedToSave} ? 'form-group error' : 'form-group'">
                <label class="form-label visuallyhidden" for="street-2">
                    <span class="form-label-bold">Street line 2</span>
                </label>
                <input class="form-control" id="street-2" th:field="*{addressForm.selectedPostcode.addressLine2}" name="street-2" type="text" />
                <span class="error-message" th:if="${#fields.hasErrors('*{addressForm.selectedPostcode.addressLine2}') and form.addressForm.triedToSave}" th:errors="*{addressForm.selectedPostcode.addressLine2}"></span>
            </div>
            <div th:class="${#fields.hasErrors('*{addressForm.selectedPostcode.addressLine3}') and form.addressForm.triedToSave} ? 'form-group error' : 'form-group'">
                <label class="form-label" for="street-2">
                    <span class="form-label-bold visuallyhidden">Street line 3</span>
                </label>
                <input class="form-control" id="street-3" th:field="*{addressForm.selectedPostcode.addressLine3}" name="street-2" type="text" />
                <span class="error-message" th:if="${#fields.hasErrors('*{addressForm.selectedPostcode.addressLine3}') and form.addressForm.triedToSave}" th:errors="*{addressForm.selectedPostcode.addressLine3}"></span>
            </div>
            <div th:class="${#fields.hasErrors('*{addressForm.selectedPostcode.locality}') and form.addressForm.triedToSave} ? 'form-group error' : 'form-group'">
                <label class="form-label" for="town">
                    <span class="form-label-bold">Town</span>
                </label>
                <input class="form-control" id="town"  th:field="*{addressForm.selectedPostcode.locality}" name="town" type="text" />
                <span class="error-message" th:if="${#fields.hasErrors('*{addressForm.selectedPostcode.locality}') and form.addressForm.triedToSave}" th:errors="*{addressForm.selectedPostcode.locality}"></span>
            </div>
            <div th:class="${#fields.hasErrors('*{addressForm.selectedPostcode.region}') and form.addressForm.triedToSave} ? 'form-group error' : 'form-group'">
                <label class="form-label" for="county">
                    <span class="form-label-bold">County</span>
                </label>
                <input class="form-control" id="county" th:field="*{addressForm.selectedPostcode.region}" name="county" type="text" />
                <span class="error-message" th:if="${#fields.hasErrors('*{addressForm.selectedPostcode.region}') and form.addressForm.triedToSave}" th:errors="*{addressForm.selectedPostcode.region}"></span>
            </div>
            <div th:class="${#fields.hasErrors('*{addressForm.selectedPostcode.postalCode}') and form.addressForm.triedToSave} ? 'form-group error' : 'form-group'">
                <label class="form-label" for="postcode">
                    <span class="form-label-bold">Postcode</span>
                </label>
                <input class="form-control" id="postcode" th:field="*{addressForm.selectedPostcode.postalCode}" name="postcode" type="text" />
                <span class="error-message" th:if="${#fields.hasErrors('*{addressForm.selectedPostcode.postalCode}') and form.addressForm.triedToSave}" th:errors="*{addressForm.selectedPostcode.postalCode}"></span>
            </div>
        </fieldset>
    </div>
</div>


<!--<div th:fragment="organisation-size">-->
    <!--<h2 class="heading-small">Organisation size</h2>-->
    <!--<div th:class="${#fields.hasErrors('*{organisationSize}') and form.addressForm.triedToSave} ? 'form-group error' : 'form-group'">-->
        <!--<fieldset>-->
            <!--<legend>-->
                <!--<span class="visuallyhidden">Organisation size</span>-->
                <!--<p class="form-hint">More information on defining your company size is available from the <a href="http://ec.europa.eu/growth/smes/business-friendly-environment/sme-definition/index_en.htm" rel="external">EU Definition</a></p>-->
                <!--<span class="error-message" th:if="${#fields.hasErrors('*{organisationSize}') and form.addressForm.triedToSave}" th:errors="*{organisationSize}"></span>-->
            <!--</legend>-->
            <!--<div class="form-block">-->
                <!--<label class="block-label" for="radio-1">-->
                    <!--<input id="radio-1" type="radio" th:field="*{organisationSize}" value="SMALL"/>-->
                    <!--Micro / small-->
                <!--</label>-->
                <!--<label class="block-label" for="radio-2">-->
                    <!--<input id="radio-2" type="radio" th:field="*{organisationSize}" value="MEDIUM"/>-->
                    <!--Medium-->
                <!--</label>-->
                <!--<label class="block-label" for="radio-3">-->
                    <!--<input id="radio-3" type="radio" th:field="*{organisationSize}" value="LARGE"/>-->
                    <!--Large-->
                <!--</label>-->
            <!--</div>-->
        <!--</fieldset>-->
    <!--</div>-->
<!--</div>-->


<div th:fragment="organisation-details-minimal">
    <fieldset>
        <legend class="visuallyhidden" th:text="${organisationForm.organisationType.name} + ' organisation'">? Organisation</legend>
        <div class="form-block">
            <h3 class="heading-small">Organisation name</h3>
            <p th:text="${organisationForm.organisationName}"></p>
        </div>

        <!--<h3 class="heading-small" th:if="${selectedOrganisation?.organisationAddress}">Registered Address</h3>-->
        <!--<div>-->
            <!--<div th:text="${selectedOrganisation?.organisationAddress?.addressLine1}"></div>-->
            <!--<div th:text="${selectedOrganisation?.organisationAddress?.addressLine2}"></div>-->
            <!--<div th:text="${selectedOrganisation?.organisationAddress?.addressLine3}"></div>-->
            <!--<div th:text="${selectedOrganisation?.organisationAddress?.locality}"></div>-->
            <!--<div th:text="${selectedOrganisation?.organisationAddress?.region}"></div>-->
            <!--<div th:text="${selectedOrganisation?.organisationAddress?.postalCode}"></div>-->
        <!--</div>-->
    </fieldset>
</div>

<div th:fragment="organisation-details">
    <fieldset>
        <legend class="visuallyhidden" th:text="${organisationForm.organisationType.name} + ' organisation'">? Organisation</legend>
        <div class="form-block">
            <h3 class="heading-small">Organisation name</h3>
            <p th:text="${organisationForm.organisationName}"></p>

            <h3 th:if="${selectedOrganisation?.organisationSearchId}" class="heading-small">Registration number</h3>
            <p  th:text="${selectedOrganisation?.organisationSearchId}"></p>

            <div th:if="${selectedOrganisation?.organisationAddress != null}">
                <h3 class="heading-small">Registered Address</h3>
                <div th:text="${selectedOrganisation?.organisationAddress?.addressLine1}"></div>
                <div th:text="${selectedOrganisation?.organisationAddress?.addressLine2}"></div>
                <div th:text="${selectedOrganisation?.organisationAddress?.addressLine3}"></div>
                <div th:text="${selectedOrganisation?.organisationAddress?.locality}"></div>
                <div th:text="${selectedOrganisation?.organisationAddress?.region}"></div>
                <div th:text="${selectedOrganisation?.organisationAddress?.postalCode}"></div>
            </div>

            <div th:if="${confirmDetails == true and organisationForm.addressForm.selectedPostcode != null}">
                <h3 class="heading-small">Operating Address</h3>
                <div th:text="${organisationForm.addressForm.selectedPostcode?.addressLine1}"></div>
                <div th:text="${organisationForm.addressForm.selectedPostcode?.addressLine2}"></div>
                <div th:text="${organisationForm.addressForm.selectedPostcode?.addressLine3}"></div>
                <div th:text="${organisationForm.addressForm.selectedPostcode?.locality}"></div>
                <div th:text="${organisationForm.addressForm.selectedPostcode?.region}"></div>
                <div th:text="${organisationForm.addressForm.selectedPostcode?.postalCode}"></div>
            </div>
        </div>
    </fieldset>
</div>

<div th:fragment="business-details">
    <fieldset>
        <legend class="visuallyhidden" th:text="${organisationForm.organisationType.name} + ' organisation'">? Organisation</legend>
        <div class="form-block">
            <h3 class="heading-small">Organisation name</h3>
            <p th:text="${organisationForm.organisationName}"></p>

            <h3 th:if="${business?.companyNumber}" class="heading-small">Registration number</h3>
            <p th:if="${business?.companyNumber}" th:text="${business.companyNumber}"></p>

            <h3 class="heading-small">Address</h3>
            <div>
                <div th:text="${business?.officeAddress?.addressLine1}"></div>
                <div th:text="${business?.officeAddress?.addressLine2}"></div>
                <div th:text="${business?.officeAddress?.addressLine3}"></div>
                <div th:text="${business?.officeAddress?.locality}"></div>
                <div th:text="${business?.officeAddress?.region}"></div>
                <div th:text="${business?.officeAddress?.postalCode}"></div>
            </div>
        </div>
    </fieldset>
</div>

<div th:fragment="organisation-name">
    <div th:class="${#fields.hasErrors('*{organisationName}') and form.addressForm.triedToSave} ? 'form-group error' : 'form-group'">
        <label class="form-label" for="org-name">
            <span class="form-label-bold">Organisation name</span>
            <span class="error-message" th:if="${#fields.hasErrors('*{organisationName}') and form.addressForm.triedToSave}" th:errors="*{organisationName}"></span>
        </label>
        <input class="form-control" id="org-name" th:field="*{organisationName}" type="text" value="" />
    </div>
</div>