<div th:fragment="comp-dashboard-header">
    <div class="grid-row">
        <div class="column-half">
            <h1 class="heading-large">All competitions</h1>
        </div>
    </div>
</div>

<div th:fragment="comp-dashboard-navigation(tab, counts)">
    <ul class="inline-nav cf">
        <li id="section-1" th:class="${tab == 'live' ? 'selected' : ''}"><a th:href="@{'/dashboard/live'}" th:text="'Live ('+${counts.liveCount}+')'"></a></li>
        <li id="section-1" th:class="${tab == 'projectSetup' ? 'selected' : ''}"><a th:href="@{'/dashboard/projectSetup'}" th:text="'Project set up ('+${counts.projectSetupCount}+')'"></a></li>
        <li id="section-2" th:class="${tab == 'upcoming' ? 'selected' : ''}"><a th:href="@{'/dashboard/upcoming'}" th:text="'Upcoming ('+${counts.upcomingCount}+')'"></a></li>
        <li id="section-3" th:class="${tab == 'completed' ? 'selected' : ''}"><a th:href="@{'/dashboard/completed'}" th:text="'Complete ('+${counts.completedCount}+')'"></a></li>
    </ul>
</div>

<div th:fragment="dashboard-row(competition)">
    <tr>
        <td>
            <h3 class="heading-small">
            <a th:href="@{'/competition/setup/'+${competition.id}}" th:if="${competition.competitionStatus == T(com.worth.ifs.competition.resource.CompetitionResource.Status).COMPETITION_SETUP}" >
                <span th:unless="${#strings.isEmpty(competition.name)}" th:text="${competition.name}" th:remove="tag" />
                <span th:if="${#strings.isEmpty(competition.name)}" th:text="#{ifs.competition.no_title}" th:remove="tag" />
            </a>
            <a th:href="@{'/competition/'+${competition.id}}" th:unless="${competition.competitionStatus == T(com.worth.ifs.competition.resource.CompetitionResource.Status).COMPETITION_SETUP}"  >
                <span th:unless="${#strings.isEmpty(competition.name)}" th:text="${competition.name}" th:remove="tag" />
                <span th:if="${#strings.isEmpty(competition.name)}" th:text="#{ifs.competition.no_title}" th:remove="tag" />
            </a>
            </h3>
        </td>
        <td th:text="${competition.innovationAreaName}"></td>
        <td th:text="${competition.innovationSectorName}"></td>
        <td th:text="${competition.applications.size()}+' Applicants'"></td>
    </tr>
</div>
