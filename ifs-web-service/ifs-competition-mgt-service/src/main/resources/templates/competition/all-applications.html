<!DOCTYPE html>
<html  class="no-js" lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <div th:include="fragments/layout :: head" th:with="pageTitle='Application Dashboard'"  th:remove="tag" />
</head>
<head>

<body class="dashboard-internal full-width">

<div th:include="fragments/layout :: body-start" th:remove="tag" />
<div th:include="fragments/layout :: global-header" th:remove="tag" />


<main id="content">
    <div th:include="fragments/layout :: main-content-start" th:remove="tag" />

    <div th:include="fragments/layout :: header-sub"
         th:with="linkTitle='Applications',linkClass='link-back',linkUrl=@{/competition/{competitionId}/applications(competitionId=${model.competitionId})}"
         th:remove="tag" />

    <h1 class="heading-xlarge">
        <span class="heading-secondary"><th:block th:text="${#numbers.formatInteger(model.competitionId,8)}"/>: <th:block th:text="${model.competitionName}"/></span>
        All applications
    </h1>

    <div class="no-constrain-width justify-left">
        <h2 class="heading-medium">Key statistics</h2>

        <ul class="grid-row">

            <li class="column-quarter">
                <div class="highlight-panel">
                    <span class="heading-large" th:text="${model.totalNumberOfApplications}">22</span>
                    <br />
                    <small>Total number of applications</small>
                </div>
            </li>

            <li class="column-quarter">
                <div class="highlight-panel">
                    <span class="heading-large" th:text="${model.applicationsStarted}">12</span>
                    <br />
                    <small>Applications started</small>
                </div>
            </li>

            <li class="column-quarter">
                <div class="highlight-panel">
                    <span class="heading-large" th:text="${model.applicationsInProgress}">6</span>
                    <br />
                    <small>Applications (Beyond 50%)</small>
                </div>
            </li>

            <li class="column-quarter">
                <div class="highlight-panel">
                    <span class="heading-large" th:text="${model.applicationsSubmitted}">4</span>
                    <br />
                    <small>Applications submitted</small>
                </div>
            </li>
        </ul>
    </div>

    <!--/* TODO: Implement sort dropdown for the table - INFUND-7953 */-->

    <div class="table-overflow">
        <table id="application-list">
            <thead>
            <tr>
                <th scope="col">Application number</th>
                <th scope="col">Project title</th>
                <th scope="col">Lead</th>
                <th scope="col">Area</th>
                <th scope="col">Status</th>
                <th scope="col" class="alignright" style="width: 10%">Percentage complete</th>
            </tr>
            </thead>
            <tbody>

            <tr class="filtered-result" th:each="row, iterStat : ${model.applications}">
                <td>
                    <a href="#" th:text="${#numbers.formatInteger(row.applicationNumber,8)}">194731</a>
                </td>
                <td th:text="${row.projectTitle}">Machine learning in robots</td>
                <td th:text="${row.lead}">PWC</td>
                <td th:text="${row.innovationArea}">HVM</td>
                <td th:text="${row.status}">Submitted</td>
                <td class="alignright" th:text="${row.percentageComplete}">100</td>
            </tr>
            </tbody>
        </table>
    </div>

    <div th:include="fragments/layout :: main-content-end" th:remove="tag" />
</main>

<div th:include="fragments/layout :: footer" th:remove="tag" />
<div th:include="fragments/layout :: body-end" th:remove="tag" />
</body>
</html>
