<!DOCTYPE html>
<html  class="no-js" lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
    <head>
        <th:block th:insert="fragments/layout :: head" th:with="pageTitle=|Submitted applications - ${model.competitionName}|" />
    </head>

    <body class="dashboard-internal full-width">
        <th:block th:insert="fragments/layout :: body-start" cache:name="body-start" />
       <th:block th:insert="fragments/layout :: global-header" cache:name="global-header" />

        <main id="content">
            <th:block th:insert="fragments/layout :: main-content-start" cache:name="main-content-start" />

            <div th:include="fragments/layout :: header-sub"
                 th:with="linkTitle='Applications',linkClass='link-back',linkUrl=@{/competition/{competitionId}/applications(competitionId=${model.competitionId})}"
                 th:remove="tag" />

            <h1 class="heading-xlarge">
                <span class="heading-secondary">
                    <th:block th:text="|${#numbers.formatInteger(model.competitionId,8)}: ${model.competitionName}|">00000001: Connected digital additive manufacturing</th:block>
                </span>
                Submitted applications
            </h1>

            <h2 class="heading-medium">Key statistics</h2>
            <ul class="grid-row extra-margin-bottom">
                <li class="column-quarter">
                    <div class="highlight-panel highlight-panel-padded">
                        <span class="heading-medium" th:text="${#temporals.format(model.assessmentDeadline, 'dd MMMM Y')}">17 November 2016</span>
                        <br />
                        <small>Assessment deadline</small>
                    </div>
                </li>

                <li class="column-quarter">
                    <div class="highlight-panel highlight-panel-padded">
                        <span class="heading-large" th:text="${model.applicationsSubmitted}">18</span>
                        <br />
                        <small>Applications submitted</small>
                    </div>
                </li>
            </ul>

            <div class="grid-row sorting">
                <div class="column-two-thirds">
                    <p><span class="heading-xlarge no-margin" th:text="${model.applicationsSubmitted}">22</span> <span class="heading-small">applications</span></p>

                    <!--/* TODO: Implement sort dropdown for the table - INFUND-8058 */-->

                </div>
            </div>

            <div class="table-overflow">
                <table id="application-list">
                    <thead>
                        <tr>
                            <th scope="col">Application number</th>
                            <th scope="col">Project title</th>
                            <th scope="col">Lead</th>
                            <th scope="col">Innovation area</th>
                            <th scope="col">Number of partners</th>
                            <th scope="col">Grant requested (£)</th>
                            <th scope="col">Total project cost (£)</th>
                            <th scope="col" class="alignright" style="width: 10%">Duration (months)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="filtered-result" th:each="row, iterStat : ${model.applications}">
                            <td>
                                <a
                                th:href="@{/competition/{cid}/application/{aid}(cid=${model.competitionId},aid=${row.id})} + ${originQuery}"
                                th:text="${#numbers.formatInteger(row.id,8)}">194731</a>
                            </td>
                            <td th:text="${row.projectTitle}">Machine learning in robots</td>
                            <td th:text="${row.lead}">PWC</td>
                            <td th:text="${row.innovationArea}">HVM</td>
                            <td th:text="${row.numberOfPartners}">5</td>
                            <td th:text="${#numbers.formatInteger(row.grantRequested, 3, 'COMMA')}">£203,000</td>
                            <td th:text="${#numbers.formatInteger(row.totalProjectCost, 3, 'COMMA')}">£324,000</td>
                            <td class="alignright" th:text="${row.durationInMonths}">12</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <th:block th:insert="fragments/layout :: main-content-end" cache:name="main-content-end" />
        </main>

        <th:block th:insert="fragments/layout :: footer" cache:name="footer" />
        <th:block th:insert="fragments/layout :: body-end" cache:name="body-end" />
    </body>
</html>
