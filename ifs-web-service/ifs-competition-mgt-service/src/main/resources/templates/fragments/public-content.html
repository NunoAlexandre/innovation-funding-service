
<div th:fragment="section-search(model, form)" xmlns:th="http://www.w3.org/1999/html">
    <p>This information is used for search results and the opening section of the competition page.</p>
    <th:block th:if="${model.readOnly}">
        <dl>
            <dt>Short description</dt>
            <dd th:text="${form.shortDescription}"></dd>
            <dt>Project funding range</dt>
            <dd th:text="${form.projectFundingRange}"></dd>
            <dt>Eligibility summary</dt>
            <dd th:text="${form.eligibilitySummary}"></dd>
            <dt>Keywords</dt>
            <dd th:text="${form.keywords}"></dd>
        </dl>
    </th:block>
    <th:block th:unless="${model.readOnly}">
        <fieldset>
            <div class="form-group">
                <label class="form-label-bold" for="short-description">
                    Short description
                    <span class="form-hint">Appears at the top of the competition page.</span>
                </label>
                <input class="form-control width-full" id="short-description" type="text" th:field="${form.shortDescription}"
                       required="required"
                       th:attr="data-required-errormessage=#{validation.publiccontent.searchinformationform.shortDescription.required}" />
            </div>
            <div class="form-group">
                <label class="form-label-bold" for="funding-range">
                    Project funding range
                    <span class="form-hint">Appears against the competition search result.</span>
                </label>
                <input class="form-control" id="funding-range" type="text" th:field="${form.projectFundingRange}"
                       required="required"
                       th:attr="data-required-errormessage=#{validation.publiccontent.searchinformationform.projectFundingRange.required}" />
            </div>
            <div class="form-group">
                <label class="form-label-bold" for="eligibility-summary">
                    Eligibility summary
                    <span class="form-hint">Appears against the competition search result.</span>
                </label>
                <input class="form-control" id="eligibility-summary" type="text" th:field="${form.eligibilitySummary}"
                       required="required"
                       th:attr="data-required-errormessage=#{validation.publiccontent.searchinformationform.eligibilitySummary.required}" />
            </div>
            <div class="form-group">
                <label class="form-label-bold" for="keywords">
                    Keywords
                    <span class="form-hint"> Keywords help competitions appear in search results but are not visible to applicants. Separate keywords with commas.</span>
                </label>
                <input class="form-control width-full" id="keywords" type="text" th:field="${form.keywords}"
                       required="required"
                       th:attr="data-required-errormessage=#{validation.publiccontent.searchinformationform.keywords.required}"/>
            </div>
        </fieldset>
        <div class="alignright">
            <a href="#">+ add new section</a>
        </div>
    </th:block>
</div>

<div th:fragment="section-eligibility(model, form)" xmlns:th="http://www.w3.org/1999/html">
    <p>Text entered into this section will appear within the eligibility tab.</p>
    <th:block th:if="${model.readOnly}">
        <th:block th:each="contentGroup: ${form.contentGroups}">
            <h2 class="heading-small no-margin-bottom" th:text="${contentGroup.heading}"></h2>
            <p th:text="${contentGroup.content}"></p>
        </th:block>
    </th:block>
    <th:block th:unless="${model.readOnly}">
        <div class="content-group" th:each="contentGroup,iter: ${form.contentGroups}">
            <th:block th:include="fragments/public-content :: content-group(contentGroup=${contentGroup},index=${iter.index})"></th:block>
        </div>
    </th:block>

</div>

<div th:fragment="content-group(contentGroup, index)" xmlns:th="http://www.w3.org/1999/html">
    <fieldset>
        <legend class="heading-medium no-margin">Content</legend>
        <fieldset>
            <input type="hidden" th:field="*{contentGroups[__${index}__].id}" />
            <hr />
            <div class="form-group">
                <label class="form-label-bold" for="heading-one">
                    Heading
                </label>
                <input class="form-control" id="heading-one" type="text" th:field="*{contentGroups[__${index}__].heading}" />
            </div>
            <div class="form-group">
                <label class="form-label-bold" for="content-one">
                    Content
                </label>
                <textarea name="skills-areas" id="content-one" cols="30" rows="10" class="width-full" th:field="*{contentGroups[__${index}__].content}"></textarea>
            </div>
            <button name="uploadFile" th:value="${index}">Add attachment</button>
            <button name="removeFile" th:value="${index}">remove</button>
        </fieldset>
        <ul class="comp-setup-section-navigation">
            <li><a href="#">Remove section</a></li>
        </ul>
        <hr />
    </fieldset>
</div>

