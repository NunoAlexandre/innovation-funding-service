if("undefined"==typeof IFS)var IFS={};IFS.assessment={},IFS.assessment.loadOrder={common:{init:function(){IFS.assessment.conditionallyRequired.init()},finalize:function(){}},"assessor-comp-dashboard":{init:function(){IFS.assessment.formCheckboxToggleSubmit.init()}},"declaration-form":{init:function(){IFS.assessment.repeatableDeclarationRows.init()}}},IFS.assessment.conditionallyRequired=function(){"use strict";return{init:function(){jQuery("body").on("click","[data-conditionally-add-required]",function(){IFS.assessment.conditionallyRequired.addRequired(this)}),jQuery("body").on("click","[data-conditionally-remove-required]",function(){IFS.assessment.conditionallyRequired.removeRequired(this)})},addRequired:function(e){var t=jQuery(e).attr("data-conditionally-add-required");jQuery(t).each(function(){jQuery(this).attr("required","required")})},removeRequired:function(e){var t=jQuery(e).attr("data-conditionally-remove-required");jQuery(t).each(function(){var e=jQuery(this),t=e.closest(".form-group");e.removeProp("required").removeClass("field-error"),t.removeClass("error"),t.find(".error-message").remove()})}}}(),IFS.assessment.formCheckboxToggleSubmit=function(){"use strict";var e;return{settings:{element:"[data-toggle-submit]"},init:function(){e=this.settings;var t=jQuery(e.element);IFS.assessment.formCheckboxToggleSubmit.toggleState(t),jQuery("body").on("click",t,function(e){IFS.assessment.formCheckboxToggleSubmit.toggleState(t)})},toggleState:function(e){for(var t,a=!0,i=0;i<e.length;i++)t=jQuery(e[i]).data("toggle-submit"),e[i].checked&&(a=!1);a?jQuery(t).addClass("disabled").prop("disabled",!0):jQuery(t).removeClass("disabled").removeAttr("disabled")}}}(),IFS.assessment.repeatableDeclarationRows=function(){"use strict";return{init:function(){jQuery("button[data-repeatable-rowcontainer]").attr("type","button"),jQuery("body").on("click","[data-repeatable-rowcontainer]",function(e){if(jQuery(this).is(":radio")){var t=jQuery(this).attr("data-repeatable-rowcontainer");0===jQuery(t).children().length&&IFS.assessment.repeatableDeclarationRows.addRow(this,!1)}else e.preventDefault(),IFS.assessment.repeatableDeclarationRows.addRow(this,!0)}),jQuery("body").on("click",".remove-another-row",function(e){e.preventDefault(),IFS.assessment.repeatableDeclarationRows.removeRow(this,!0)})},addRow:function(e,t){var a,i=jQuery(e).attr("data-repeatable-rowcontainer"),r=jQuery(i).children().length||0;a="hasAppointments"===jQuery(e).attr("name")||"addAppointment"===jQuery(e).attr("name")?jQuery('<tr><td class="form-group"><label></label><input aria-labelledby="aria-position-org" class="form-control width-full appointment-field" type="text" id="appointments'+r+'.organisation" name="appointments['+r+'].organisation" value="" data-required-errormessage="Please enter an organisation." required="required" /></td><td class="form-group"><label></label><input aria-labelledby="aria-position-pos" class="form-control width-full appointment-field" type="text" id="appointments'+r+'.position" name="appointments['+r+'].position" value="" data-required-errormessage="Please enter a position." required="required" /></td><td><button class="remove-another-row buttonlink" name="removeAppointment" type="button" value="0">Remove</button></td></tr>'):jQuery('<tr><td class="form-group"><label></label><input aria-labelledby="aria-family-rel" class="form-control width-full family-affiliation-field" type="text" id="familyAffiliations'+r+'.relation" name="familyAffiliations['+r+'].relation" value="" data-required-errormessage="Please enter a relation." required="required" /></td><td class="form-group"><label></label><input aria-labelledby="aria-family-org" class="form-control width-full family-affiliation-field" type="text" id="familyAffiliations'+r+'.organisation" name="familyAffiliations['+r+'].organisation" value="" data-required-errormessage="Please enter an organisation." required="required" /></td><td class="form-group"><label></label><input aria-labelledby="aria-family-pos" class="form-control width-full family-affiliation-field" type="text" id="familyAffiliations'+r+'.position" name="familyAffiliations['+r+'].position" value="" data-required-errormessage="Please enter a position." required="required" /></td><td><button class="remove-another-row buttonlink" name="removeFamilyMemberAffiliation" type="button" value="1">Remove</button></td></tr>'),a.appendTo(i),t===!0&&a.find("input").first().focus()},removeRow:function(e){var t,a=jQuery(e),i=a.closest("tbody");a.closest("tr").remove(),t=jQuery(i).children(),jQuery(t).each(function(e){var t=jQuery(this).find("input");jQuery(t).each(function(){var t=jQuery(this).attr("id").replace(/\d+/g,e),a=jQuery(this).attr("name").replace(/\d+/g,e);jQuery(this).attr({id:t,name:a})})})}}}();